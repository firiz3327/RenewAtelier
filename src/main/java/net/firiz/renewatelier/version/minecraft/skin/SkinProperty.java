package net.firiz.renewatelier.version.minecraft.skin;

import com.mojang.authlib.GameProfile;
import com.mojang.authlib.properties.Property;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

public enum SkinProperty {
    GRAY(
            "ewogICJ0aW1lc3RhbXAiIDogMTU5MDc3NDEzMDk3MywKICAicHJvZmlsZUlkIiA6ICI4MmM2MDZjNWM2NTI0Yjc5OGI5MWExMmQzYTYxNjk3NyIsCiAgInByb2ZpbGVOYW1lIiA6ICJOb3ROb3RvcmlvdXNOZW1vIiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzhiYjliOWNmMDA3YTExN2UwZTNkMWZjMzIxZDNjNDJiNTViMDk0NDA2OGIzODQ2ZmVlNjUzM2Q3YTgxODFiYjQiCiAgICB9CiAgfQp9",
            "wgLrdD1GwajPaGboiPL3Zj4V88H6/HHYQbDSaDcbA4ehkrqf9DW/YYpTxLkI37Mz3Q141o9fMu0htW4EfpG5vtiomA5ohvNxi0TBkjHOlRkq42KZ0qxDjNza41ekeXErGizhsdG2pP5pWNX009+O+yfD9Vf79i3qNTjO4OyJHv+5thgBPbjdcV6VkNShQBFkDCFLMkif8B0g9HgLzakFT8GtEb3cXlHgNN0VVoM2arqZapc0L3i1WYILgSIaoHzCHsbnph7I6LPMJocqOOPjElUfAV1vJOWhITyqq2T0k8NwD/X+2U0MUbuax90LUiajws6vfWcoUlbKdtkJZ+g2VVowEJj3YS6mfzIFgBSd71EvNvO7zfqdKIxE9faoJK82mILJRNO2HxOdNziP57R+qey4okCxd8O7CpGQt0SEjsQcv3CcBAamGBm8ch3YOzMwrOgnWXQPZhA9iEdWDtQs6n/k3ymT8XcG3iF/HvfaE+DhTRg9/VWbCNPBvoFWKxbSKIRH8MTm912jHMIY8UHClPZuhiazC8A/o2m3jebkkwv/SaeHhjyGqSFJI+htDJ831NcFMRWqBrb9k/lu1U7E/i9yC0IaqKipWAQQBYcMBQMMxKUiBQ1Mp/4HNdgdOQAqQC8eItc3k7WYwrFRZm/VtFmMwlATDuFmkmU6+X+jkC0="
    ),
    LIGHT_GREEN(
            "ewogICJ0aW1lc3RhbXAiIDogMTU5MDc3NDI3NTA3NCwKICAicHJvZmlsZUlkIiA6ICJkNjBmMzQ3MzZhMTI0N2EyOWI4MmNjNzE1YjAwNDhkYiIsCiAgInByb2ZpbGVOYW1lIiA6ICJCSl9EYW5pZWwiLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOGYzNDU0ZDYzYTc3YTQ4YjRlNzg1YmM0NjdjZmI4ZTRjMTY3YjUwZjFjMzEwNzIxOWJmNTFhYzQwMjg2ZjAyZCIKICAgIH0KICB9Cn0=",
            "ATEXSMxWmJA7QSZ6MLxmRuBUZ8YW1ibcv2hB6cgyNjW1yk/seDuVur3UuYysZeHdanX/tKPQorcwgih9xw2eCrIq9rev0+oZQnb5bnbC8s268aO5YgMiTpaltp9QHbOdeQ0X5EsVrHsteVvq5DZttuf9ONNJ5ftUkv6MaGoE2O3WaJBEEn7Nyb3nHDKLAAh4L7eUYRa11tZOqiDhto//+Z7/heyuD6F4L0KIr3kIX/9IdxTlLQKQScYlTSH4KwxiIvbHB/1kYqmdX69WIpX/wq39ZA+7kxMUyEB4Mq7f1eywd+9xWge5LHOu3Adj4dgeO77c64MZcBspFazvaL/R+dGsh8GeX4Cb8ZwXYFEpccrd0jUABU/2rrsWX0PJRUGXw6mriRL4SWCUpjT3rckJJ+Ic6ffDiY8w6Nl/kcOuI/zzU/Rzz2Lu8BIgZNPDg4O3Eix+CyMt8Aqc/ecCYo815B+SugyW6t7zJs0KdpKBU1qSJhRcRT2geFEWUTGwMKMjQBjstsMpBuwS2GhbEm8xCYI5g4NsGKQXdbXtx0DlESGLr0DbSdT/wr5xafCOwTyUH1Q3t6MFUYZizidr2aN7Vm4+H6QtfR2mybsWNrOr4t+uTLhYPdiijWpdyabHzMFMIkYS+2c1H3PDRccjTFR7fDCeOswDyF5K2sbCBZ2SUBI="
    ),
    OAK_LOG(
            "ewogICJ0aW1lc3RhbXAiIDogMTU5Nzg2MzM5NzY5NCwKICAicHJvZmlsZUlkIiA6ICJkZTU3MWExMDJjYjg0ODgwOGZlN2M5ZjQ0OTZlY2RhZCIsCiAgInByb2ZpbGVOYW1lIiA6ICJNSEZfTWluZXNraW4iLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYTRjYzQ3MDU0ZjA3M2MwNzc3YjJlOTUyNWM4NTRhNWI2ZDQ5YmRmZTY5ZWE5NWI5MTRiYzJkNWE2MjIzMGRkZCIKICAgIH0KICB9Cn0=",
            "ZMTfzlbLNhVakzEwShfvuutLCNWebJIujdluPq8XuRVEzEm6d8Eem1T9WTWp2edM0CXCUVU3ED2INAFdByumVpkrxElKvRWYVsqbjjbvIAXCYis9cLHZWEwhIsMIbPpKkzRc904G381/CVkeoEk/QqaRM3Q84gMi1NWzsiIfRwlIxxfXEYDc/aPHZxE+7PR+QRDxK+Pw6/Asuy4OmS9QTOgr8ge7xmNnoCkuUnXBZbogo0Ltak/4wrYjVKc4w1UpvYyVcRAk0dXEsbf68o3MYXT2VHXtqURKgH9xY/0+iHMaHN6LJhrVnW7XLZJhrKddd08oDmF+/OJEUjBdcNJRwCoxZWqw8WckReVw/84GJeNMndcIePJ/hD8h7PnNvfG5fIvOr9RMciW6FV0HVPu3Nl6JzI1MOT/qSho7IuucMJ/+DFwPG8L2nEZda2GWnDU7HKYWybDvFH1GbBZXntfKyRfPeKHkM9fVwHePY2O1boNWbY8Lw6FgLOyOMzMss9+jeYfGVliSf+ZcYGHaBvUQQE1g+1aHkb9g3K7z6khAAEhXy8O+Z2AjtEL4+ui8fnjW4Di8bPa1dc7ud29jWcTTkMbK+6naHmhoZYXF1SPo8LoRCiYjsGlBrnApsR2YGmMUgEQOBsjAqgxAgmPlLv2H7Se03/lBSHdUkeLZEvwqOf4="
    ),

    BLACK_SMITH(
            "ewogICJ0aW1lc3RhbXAiIDogMTU5NzE3NjQ2NTkxMCwKICAicHJvZmlsZUlkIiA6ICJiZWNkZGIyOGEyYzg0OWI0YTliMDkyMmE1ODA1MTQyMCIsCiAgInByb2ZpbGVOYW1lIiA6ICJTdFR2IiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzEzNzNmMzJmMGRlZTg3M2YxMTE3M2NmNDE4ZDFlMWM4NDUxOTNkY2E3ZTUyMGM4MDNhYzNiNmUwOTVkMzVmNWYiCiAgICB9CiAgfQp9",
            "Nl1ko0VmWwzT7vSn31HwEvjE0jR2jbvWlmimyAYSTJ17xeBBGfsd5l15cqb0/zoSoUPtKCqkVXPjswxKfEUlv6vSeERLgwEREsdfdan19fOvAFMD2rzYiqX2rt/nuGOzceLIeblDg3vWkv0OhNc43iIS2S8/zAQO51o9PyXvIUp8E+E1UYr62bq6TRsNJ+LPE4XYTvzR3pniIYir8PXLfqqPbKSb568eZbtddlCXxFJ6NzrpNnTpZwmaLy+rW9vPYktoBIW1klrF86z2PbnKsPXFdOToDPVOA6LHwwWm8XtxgzrS5qWaeoM/Bs8kocUhogW2D0Bul0hXyJKofMl9XNTci47M2gPM5QpxUmsGTUDeIb/7F2OcO4N0EK555AuK6sxjY7ubD2t5qL38y8EkbfAILik3K4h+5kZbbQq7ihUbaEWptvfXoFkITQir7j5iAqpXhlkJEWLttMRw23SFRS7EQ+PtmaY+U3gEYCvd25jIXJA/goRwyPey+QgsIkujYXAmu53tIjowcbrR406cDsBGLIQHJxtMFTuhfcUblARJEr7uUwwUO6sHlCMou3CQ1fpn4UauGh7bnCmH59lhCacgxy85JItolxwsKYI4vwkljLV6YfIBSzOCj9eczrlKTglufmYXs4QcfdVmxbTEA+6ISGmtT5wh1AtxsO4AZS8="
    );

    // 下記リンクのサイトでスキンテクスチャを元にtextureデータ(value)と署名(signature)を生成できる
    // https://mineskin.org

    private static final String TEXTURES_KEY = "textures";
    private final String data;
    private final String signature;

    SkinProperty(String data, String signature) {
        this.data = data;
        this.signature = signature;
    }

    @Nullable
    public static SkinProperty search(String name) {
        for (final SkinProperty skinProperty : values()) {
            if (skinProperty.name().equalsIgnoreCase(name)) {
                return skinProperty;
            }
        }
        return null;
    }

    public String getData() {
        return data;
    }

    public String getSignature() {
        return signature;
    }

    public static void modifyTextures(@NotNull GameProfile target, @NotNull GameProfile profile) {
        target.getProperties().removeAll(TEXTURES_KEY);
        target.getProperties().putAll(TEXTURES_KEY, profile.getProperties().get(TEXTURES_KEY));
    }

    public void modifyTextures(@NotNull GameProfile target) {
        target.getProperties().removeAll(TEXTURES_KEY);
        target.getProperties().put(TEXTURES_KEY, new Property(TEXTURES_KEY, data, signature));
    }
}
